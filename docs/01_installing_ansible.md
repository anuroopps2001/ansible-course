# Installing Ansible

## Objectives
Install Ansible on a control node and describe the distinction between community Ansible and Red Hat Ansible Automation Platform.

---

## Ansible and Red Hat Ansible Automation Platform
You can obtain Ansible software in different ways, each with their own level of support:

1. From the upstream community  
2. As part of Red Hat Enterprise Linux, with limited support  
3. With the fully supported Red Hat Ansible Automation Platform product  

This course focuses on the last of these three, using the tools provided with Red Hat Ansible Automation Platform. However, the Ansible language and basic concepts are the same no matter how you obtain the software.

---

## Community Ansible
The upstream Ansible community develops Ansible and distributes versions of it in two ways:

- **Ansible Core**: A minimalist component that consists of the core runtime and a set of commonly used modules (the `ansible.builtin` collection). The control node acts as the execution environment.
- **Community Ansible**: A distribution of Ansible Core plus a selection of additional content collections chosen by the open source community.

Both are provided as **Python pip packages** and are **not supported by Red Hat**.

---

## Ansible Core in Red Hat Enterprise Linux
- Provided as the `ansible-core` RPM package in RHEL 9 AppStream repo.  
- Intended to enable automation generated by Red Hat products (e.g., system roles, Insights remediation playbooks, OpenSCAP).  
- Other use cases are outside the scope of support.  

For more details, see: *Knowledgebase article "Using Ansible in RHEL 9".*

---

## Red Hat Ansible Automation Platform (AAP)
- Fully supported version of Ansible from Red Hat.  
- Includes Ansible Core, certified content, tools, components, and cloud services.  
- Requires a valid subscription for access.  
- This course uses **AAP 2.2**, which includes **Ansible Core 2.13**.  

This version is similar to **Community Ansible 6**, but with certified content and additional tools.

> Installing AAP server components like automation controller and automation hub is beyond the scope of this course.

---

## Red Hat Ansible Automation Platform 2 Overview

### Ansible Core
- Defines the automation language in YAML.  
- Provides features such as loops, conditionals, and key CLI tools.  
- AAP 2.2 ships **Ansible Core 2.13** via RPM and execution environments.

### Ansible Content Collections
- Ansible modules were moved into **collections** for easier maintenance.  
- `ansible.builtin` is always part of Ansible Core.  
- Red Hat provides 120+ certified collections with AAP subscription.  
- Community collections are available on **Ansible Galaxy**.

### Automation Content Navigator (`ansible-navigator`)
- New CLI tool to develop and test playbooks.  
- Replaces `ansible-playbook`, `ansible-config`, `ansible-inventory`, etc.  
- Runs playbooks inside **execution environments (containers)**.  
- Provides consistent dev â†’ prod automation workflows.

### Automation Execution Environments (EE)
- Container images that include Ansible Core, collections, Python libraries, and dependencies.  
- Playbooks can run inside EEs with `ansible-navigator`.  
- Ensures portability and reproducibility.

### Automation Controller
- Formerly **Ansible Tower**.  
- Central UI + REST API for managing, running, and evaluating automation jobs.

### Automation Hub
- Hosted at [console.redhat.com](https://console.redhat.com).  
- Provides access to certified collections for use with `ansible-galaxy`, `ansible-navigator`, and automation controller.

---

## Preparing a Control Node

1. Install `ansible-navigator`:
   ```bash
   $ sudo dnf install ansible-navigator
   $ ansible-navigator --version
   $ podman login registry.redhat.io
Username: your-registry-username
Password: your-registry-password
Login Succeeded!

   $ podman pull registry.redhat.io/ansible-automation-platform-22/ee-supported-rhel8:latest

   $ ansible-navigator images
   ```